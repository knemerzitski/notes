
type Note implements Node {
  "Self-descriptive"
  id: ID!
  "Note title to summarize note contents"
  title: String!
  "Note plain text content"
  textContent: String!
  "Is note locked in a read-only state. null => readOnly: false"
  readOnly: Boolean
  "Note preferences such as note color"
  preferences: NotePreferences!
}

type NotePatch {
  "Changed note title"
  title: String
  "Changed note text content"
  textContent: String
  "Changed preferences"
  preferences: NotePreferencesPatch
}

input NotePatchInput {
  title: String
  textContent: String
  preferences: NotePreferencesPatchInput
}

type NotePreferences {
  "Note background color"
  backgroundColor: HexColorCode
}

type NotePreferencesPatch {
  "Changed note background color"
  backgroundColor: HexColorCode
}

input NotePreferencesPatchInput {
  backgroundColor: HexColorCode
}

type NoteConnection implements Connection {
  "Query notes directly without edges"
  notes: [Note!]!
  "Self descriptive"
  edges: [NoteEdge!]!
  "Self descriptive"
  pageInfo: PageInfo!
}

type NoteEdge implements Edge {
  "Self descriptive"
  node: Note!
  "Self descriptive"
  cursor: String!
}

extend type Query {
  "Paginate notes"
  notesConnection(first: NonNegativeInt!, after: String): NoteConnection! @auth
  "Get note by ID"
  note(id: ID!): Note! @auth
}

input CreateNoteInput {
  note: NotePatchInput
}
type CreateNotePayload {
  "Created note"
  note: Note!
}
extend type Mutation {
  "Create a new note"
  createNote(input: CreateNoteInput!): CreateNotePayload @auth
}

input UpdateNoteInput {
  id: ID!
  patch: NotePatchInput
}
type UpdateNotePayload {
  "Updated note"
  note: Note!
}
extend type Mutation {
  "Update note"
  updateNote(input: UpdateNoteInput!): UpdateNotePayload! @auth
}

input DeleteNoteInput {
  id: ID!
}
type DeleteNotePayload {
  "Was note deleted"
  deleted: Boolean!
}
extend type Mutation {
  "Delete note"
  deleteNote(input: DeleteNoteInput!): DeleteNotePayload! @auth
}

type NoteCreatedPayload {
  "Created note info"
  note: Note!
}
extend type Subscription {
  "A new note was created"
  noteCreated: NoteCreatedPayload! @auth
}

type NoteUpdatedPayload {
  "ID of note that was updated"
  id: ID!
  "Changes made to the note"
  patch: NotePatch!
}

extend type Subscription {
  "An existing note was updated"
  noteUpdated: NoteUpdatedPayload! @auth
}

type NoteDeletedPayload {
  "ID of deleted note"
  id: ID!
}

extend type Subscription {
  "A note was deleted"
  noteDeleted: NoteDeletedPayload! @auth
}
