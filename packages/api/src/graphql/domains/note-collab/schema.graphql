################################ Note collab ################################

extend type Note {
  "Note collaboration"
  collab: NoteCollab!
}

extend input CreateNoteInput {
  "Initial note collaboration values"
  collab: CreateNoteCollabInput
}

"Note collaborative info"
type NoteCollab {
  "Note collaborative text"
  text: CollabText!
}

input CreateNoteCollabInput {
  "Initial note text fields"
  text: CreateCollabTextInput
}

################################ updateNoteTextFieldInsertRecord ################################

input UpdateNoteTextFieldInsertRecordInput {
  "Note to be updated by Note.id"
  noteId: ObjectID!
  "New record to be inserted"
  insertRecord: CollabTextRecordInput!
}

type UpdateNoteTextFieldInsertRecordPayload {
  """
  New record added to text field. Could be a duplicate record. Check isDuplicateRecord field.
  """
  newRecord: CollabTextRecord!
  "True if record has already been inserted before. Is always false in subscription."
  isDuplicateRecord: Boolean!
  "CollabText after new record is inserted"
  collabText: CollabText!
  "Note after new record is inserted"
  note: Note!
}

extend type Mutation {
  "Insert new record to text field"
  updateNoteTextFieldInsertRecord(
    input: UpdateNoteTextFieldInsertRecordInput!
  ): UpdateNoteTextFieldInsertRecordPayload! @auth
}

extend union SignedInUserMutations = UpdateNoteTextFieldInsertRecordPayload
