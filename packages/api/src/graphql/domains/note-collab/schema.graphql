################################ Note collabText ################################

extend type Note {
  "Note collaboration text"
  collabText: CollabText!
}

extend input CreateNoteInput {
  "Initial note collaboration values"
  collabText: CreateCollabTextInput
}

################################ updateNoteInsertRecord ################################

input UpdateNoteInsertRecordInput {
  "Note to be updated by Note.id"
  noteId: ObjectID!
  "New record to be inserted"
  insertRecord: CollabTextRecordInput!
}

type UpdateNoteInsertRecordPayload {
  """
  New record added to text field. Could be a duplicate record. Check isDuplicateRecord field.
  """
  newRecord: CollabTextRecord!
  "True if record has already been inserted before. Is always false in subscription."
  isDuplicateRecord: Boolean!
  "CollabText after new record is inserted"
  collabText: CollabText!
  "Note after new record is inserted"
  note: Note!
}

extend type Mutation {
  "Insert new record to note"
  updateNoteInsertRecord(
    input: UpdateNoteInsertRecordInput!
  ): UpdateNoteInsertRecordPayload! @auth
}

extend union SignedInUserMutations = UpdateNoteInsertRecordPayload
